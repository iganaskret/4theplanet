"use strict";const arr1=[0,1,2,3,4,5],arr2=[0,1,2,3,4,5],arr3=[0,1,2,3,4,5];function randomNumbers(){return Math.floor(30*Math.random())}let interval,interval2,interval3,divOne=document.querySelector(".div1"),divTwo=document.querySelector(".div2"),divThree=document.querySelector(".div3");function populate(e,n){for(let t=0;t<6;t++){let i=document.createElement("img");if(1==n)i.src="icons/gamico"+t+".png";else if(2==n){let e=t+1;6==e&&(e=0),i.src="icons/gamico"+e+".png"}else if(3==n){let e=t-1;-1==e&&(e=5),i.src="icons/gamico"+e+".png"}i.classList.add("span"+t),e.appendChild(i)}}function stopSpinning(){clearInterval(interval),clearSecondInterval(),clearThirdInterval(),didIWin()}function clearSecondInterval(){setTimeout(()=>{clearInterval(interval2)},500)}function clearThirdInterval(){setTimeout(()=>{let e=document.querySelector(".div1 .span3").src,n=document.querySelector(".div2 .span3").src,t=document.querySelector(".div3 .span3").src;console.log("wylosowałeś: "+e+" "+n+" "+t),e===n&&n===t&&(console.log("wygrana"),startTicket(),document.querySelector(".slot_machine").style.backgroundImage="url('/images/confetti.gif')",document.querySelector(".slot_machine").style.backgroundPosition="center",document.querySelector(".slot_machine").style.backgroundRepeat="no-repeat",document.querySelector(".slot_machine").style.backgroundSize="cover"),console.log(arr1[3]+" "+arr2[3]+" "+arr3[3]),document.querySelector(".start").style.pointerEvents="auto"},2e3)}function didIWin(){setTimeout(()=>{clearInterval(interval3)},1e3)}function animatedSpin(){counter=1,document.querySelector(".div1").classList.add("spin"),document.querySelector(".spin").addEventListener("animationend",endSpin)}function animatedSpin2(){counter=1,document.querySelector(".div2").classList.add("spin2"),document.querySelector(".spin2").addEventListener("animationend",endSpin2)}function animatedSpin3(){counter=1,document.querySelector(".div3").classList.add("spin3"),document.querySelector(".spin3").addEventListener("animationend",endSpin3)}function endSpin(){spin(arr1,1),document.querySelector(".spin").removeEventListener("animationend",endSpin,!0),document.querySelector(".div1").classList.remove("spin")}function endSpin2(){spin(arr2,2),document.querySelector(".spin2").removeEventListener("animationend",endSpin,!0),document.querySelector(".div2").classList.remove("spin2")}function endSpin3(){spin(arr3,3),document.querySelector(".spin3").removeEventListener("animationend",endSpin,!0),document.querySelector(".div3").classList.remove("spin3")}function spin(e,n){for(let t=0;t<e.length;t++)if(5==e[t]?e[t]=0:e[t]=e[t]+1,1==n)document.querySelector(".div"+n+" .span"+t).src="icons/gamico"+e[t]+".png";else if(2==n){let i=t+1;6==i&&(i=0),document.querySelector(".div"+n+" .span"+t).src="icons/gamico"+e[i]+".png"}else if(3==n){let i=t-1;-1==i&&(i=5),document.querySelector(".div"+n+" .span"+t).src="icons/gamico"+e[i]+".png"}}populate(divOne,1),populate(divTwo,2),populate(divThree,3),document.querySelector(".start").addEventListener("click",()=>{interval=setInterval(()=>{animatedSpin()},20),interval2=setInterval(()=>{animatedSpin2()},20),interval3=setInterval(()=>{animatedSpin3()},20),document.querySelector(".start").style.pointerEvents="none",setTimeout(stopSpinning,100*randomNumbers()),console.log("click")});
